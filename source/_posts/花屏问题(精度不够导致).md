---
title: 花屏问题(精度不够导致)
date: 2021-11-17 22:59:59
tags: 
    - bug
categories: "OpenGL"
description: 记录一个OpenGL渲染时花屏的bug
cover: /covers/2.png
---


## 花屏问题

<!-- more -->

### 现象

<img src="https://raw.githubusercontent.com/nashpan/image-hosting/main/markdown_image/video.4jgiqew57kw0.gif" alt="video" style="zoom: 50%;" />  

我在使用stbi_image去将一个图片数据转化为纹理图片，我的代码如下：

![stb_image](https://raw.githubusercontent.com/nashpan/image-hosting/main/markdown_image/stb_image.png)

这里我一开始写的是char,结果输出图片的数据全是0，因为使用char,发生了数据的上溢，变成了0；

至于上面的那个花屏现象，是由于精度不够导致的。

### Solution

刚开始时，我写的是255(下图标记处），结果就出现了花屏的现象

![image](https://raw.githubusercontent.com/nashpan/image-hosting/main/markdown_image/image.2zp4ulu4fmq0.png)

改成255.0之后显示就正常了

<img src="https://raw.githubusercontent.com/nashpan/image-hosting/main/markdown_image/1.72v379gjerg0.gif" alt="1" style="zoom:50%;" /> 