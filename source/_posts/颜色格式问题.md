---
title: 颜色格式问题
date: 2021-11-17 22:49:59
tags: "OpenGL"
categories: "OpenGL"
description: 记录一个使用OpenGL渲染时颜色不正确的问题
cover: /covers/7.png
---



## 颜色格式问题

<!-- more -->

这个问题可能相对比较简单，但是这里需要注意的重点是，当发生颜色问题时，可以在这一方面想一想，会不会是颜色的顺序不对导致的，是RGBA，还是BRGA，亦或是YUV420等等，这些都会导致最后渲染出来的颜色不对，就像我之前在Metal中的遇到的颜色问题，可能就是这个原因导致的(见下面链接)

> [输出纹理为YUV和RGB](https://nashpan.github.io/2021/09/04/%E8%BE%93%E5%87%BA%E7%BA%B9%E7%90%86%E4%B8%BAYUV%E5%92%8CRGB/#more)

下面这张图片是截取于OpenGL的纹理采取那部分的代码，注意图片的格式为jpg，然后读取图片的格式为RGB

![color](https://raw.githubusercontent.com/nashpan/image-hosting/main/markdown_image/color.png)

但是下面这张截图中，我需要加载的图片数据的格式是png，是4通道的（调试时可以从nrChannels参数看出），所以正确的方法如下：

<img src="https://raw.githubusercontent.com/nashpan/image-hosting/main/markdown_image/color1.png" alt="color1" style="zoom:67%;" /> 

如果格式没有注意的话，就会出现读取的数据不正确的情况

